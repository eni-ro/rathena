# This file is a part of rAthena.
#   Copyright(C) 2019 rAthena Development Team
#   https://rathena.org - https://github.com/rathena
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program. If not, see <http://www.gnu.org/licenses/>.
#
###########################################################################
# Item Database
###########################################################################
#
# Item Settings
#
###########################################################################
# - Id                      Item ID.
#   AegisName               Server name to reference the item in scripts and lookups, should use no spaces.
#   Name                    Name in English for displaying as output.
#   Type                    Item type. (Default: Etc)
#   SubType                 Weapon or Ammo type. (Default: 0)
#   Buy                     Buying price. When not specified, becomes double the sell price. (Default: 0)
#   Sell                    Selling price. When not specified, becomes half the buy price. (Default: 0)
#   Weight                  Item weight. Each 10 is 1 weight. (Default: 0)
#   Attack                  Weapon's attack. (Default: 0)
#   MagicAttack             Weapon's magic attack. (Default: 0)
#   Defense                 Armor's defense. (Default: 0)
#   Range                   Weapon's attack range. (Default: 0)
#   Slots                   Available slots in item. (Default: 0)
#   Jobs                    Jobs that can equip the item. (Map default is 'All: true')
#   Classes                 Upper class types that can equip the item. (Map default is 'All: true')
#   Gender                  Gender that can equip the item. (Default: Both)
#   Locations               Equipment's placement. (Default: None)
#   WeaponLevel             Weapon level. (Default: 0)
#   EquipLevelMin           Minimum required level to equip. (Default: 0)
#   EquipLevelMax           Maximum level that can equip. (Default: 0)
#   Refineable              If the item can be refined. (Default: false)
#   View                    View sprite of an item. (Default: 0)
#   AliasName               Another item's AegisName that will be sent to the client instead of this item's AegisName. (Default: null)
#   Flags:                  Item flags. (Default: null)
#     BuyingStore           If the item is available for Buyingstores. (Default: false)
#     DeadBranch            If the item is a Dead Branch. (Default: false)
#     Container             If the item is part of a container. (Default: false)
#     UniqueId              If the item is a unique stack. (Default: false)
#     BindOnEquip           If the item is bound to the character upon equipping. (Default: false)
#     DropAnnounce          If the item has a special announcement to self on drop. (Default: false)
#     NoConsume             If the item is consumed on use. (Default: false)
#     DropEffect            If the item has a special effect when on the ground. (Default: None)
#   Delay:                  Item use delay. (Default: null)
#     Duration              Duration of delay in seconds.
#     Status                Status Change used to track delay. (Default: None)
#   Stack:                  Item stack amount. (Default: null)
#     Amount                Maximum amount that can be stacked.
#     Inventory             If the stack is applied to player's inventory. (Default: true)
#     Cart                  If the stack is applied to the player's cart. (Default: false)
#     Storage               If the stack is applied to the player's storage. (Default: false)
#     GuildStorage          If the stack is applied to the player's guild storage. (Default: false)
#   NoUse:                  Conditions when the item is unusable. (Default: null)
#     Override              Group level to override these conditions.
#     Sitting               If the item can not be used while sitting. (Default: false)
#   Trade:                  Trade restrictions. (Default: null)
#     Override              Group level to override these conditions.
#     NoDrop                If the item can not be dropped. (Default: false)
#     NoTrade               If the item can not be traded. (Default: false)
#     TradePartner          If the item can not be traded to the player's partner. (Default: false)
#     NoSell                If the item can not be sold. (Default: false)
#     NoCart                If the item can not be put in a cart. (Default: false)
#     NoStorage             If the item can not be put in a storage. (Default: false)
#     NoGuildStorage        If the item can not be put in a guild storage. (Default: false)
#     NoMail                If the item can not be put in a mail. (Default: false)
#     NoAuction             If the item can not be put in an auction. (Default: false)
#   Script                  Script to execute when the item is used/equipped. (Default: null)
#   EquipScript             Script to execute when the item is equipped. (Default: null)
#   UnEquipScript           Script to execute when the item is unequipped or when a rental item expires. (Default: null)
###########################################################################

Header:
  Type: ITEM_DB
  Version: 1

Body:
  - Id: 19262
    AegisName: Jirant_Circlet
    Name: '古代龍の宝冠'
    Type: Armor
    Buy: 20
    Weight: 600
    Defense: 12
    Slots: 1
    Locations:
      Head_Top: true
    EquipLevelMin: 130
    Refineable: true
    View: 1644
    Script: |
      bonus bMdef,15;
      .@r = getrefine();
      bonus2 bResEff,Eff_Fear,.@r*10;
      bonus2 bMagicAddClass,Class_All,.@r;
      bonus bVariableCastrate,-.@r;
      if( .@r >= 7 ){
        bonus2 bSkillAtk,"SO_PSYCHIC_WAVE",15;
        bonus2 bSkillCooldown,"SO_PSYCHIC_WAVE",-1000;
        if( .@r >= 9 ){
          bonus2 bSkillAtk,"SO_PSYCHIC_WAVE",15;
          bonus2 bSkillCooldown,"SO_PSYCHIC_WAVE",-1000;
          if( .@r >= 10 ){
            .@b = (readparam(bInt)+readparam(bDex))/10;
            bonus bInt,.@b;
            bonus bDex,.@b;;
          }
        }
      }
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_SORCERER ){
        skill "HW_GANBANTEIN",1,1;
      }
  - Id: 22225
    AegisName: Shoes_of_Punishment_J
    Name: '裁きの靴'
    Type: Armor
    Buy: 20
    Weight: 500
    Defense: 15
    Slots: 1
    Locations:
      Shoes: true
    EquipLevelMin: 100
    Refineable: true
    Script: |
      bonus bMdef,15;
      bonus bUnbreakableShoes;
      bonus bMaxHPrate,3;
      bonus bMaxSPrate,3;
      bonus2 bMagicAddClass,Class_All,2;
      bonus2 bMagicAddEle,Ele_Holy,2;
      bonus2 bSkillAtk,"AB_JUDEX",30;
      .@r = getrefine();
      if (.@r>=5) {
        bonus bMaxHPrate,7;
        bonus bMaxSPrate,7;
        bonus2 bMagicAddClass,Class_All,3;
        bonus2 bMagicAddEle,Ele_Holy,3;
        if (.@r>=7) {
          bonus bMaxHPrate,10;
          bonus bMaxSPrate,10;
          bonus2 bMagicAddClass,Class_All,5;
          bonus2 bMagicAddEle,Ele_Holy,5;
        }
      }
  - Id: 22233
    AegisName: Scorpio_Shoes_J
    Name: '天蝎宮のシューズ'
    Type: Armor
    Buy: 20
    Weight: 400
    Defense: 25
    Jobs:
      All: true
    Locations:
      Shoes: true
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bUnbreakableShoes;
      bonus bMdef,5;
      bonus bBaseAtk,50;
      bonus bAspdRate,10;
      bonus bMaxHPrate,10;
      bonus bMaxSPrate,10;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_GUILLOTINE_CROSS ){
        bonus bAtk,80;
        bonus bFlee,50;
        bonus bMaxHPrate,10;
        bonus bMaxSPrate,10;
        bonus2 bSkillAtk,"GC_ROLLINGCUTTER",500;
        .@r = getrefine();
        if( .@r >= 8 ){
          bonus2 bSkillDelay,"GC_DARKILLUSION",-1500;
        }
      }
  - Id: 26167
    AegisName: Aquarius_Staff_J
    Name: '宝瓶宮のスタッフ'
    Type: Weapon
    SubType: Staff
    Weight: 300
    Attack: 0
    MagicAttack: 10
    Range: 1
    Slots: 1
    Jobs:
      Acolyte: true
      Mage: true
      Monk: true
      Novice: true
      Priest: true
      Sage: true
      SoulLinker: true
      SuperNovice: true
      Wizard: true
    Locations:
      Right_Hand: true
    WeaponLevel: 4
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bUnbreakableWeapon;
      bonus bMatk,50+BaseLevel;
      bonus bAspdRate,10;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_WARLOCK ){
        bonus bAspdRate,10;
        bonus bDelayrate,-10;
        bonus2 bMagicAddClass,Class_All,25;
        bonus2 bSkillAtk,"WL_HELLINFERNO",50;
        bonus2 bSubRace,RC_DemiHuman,10;
        .@r = getrefine();
        if( .@r >= 7 ){
          bonus2 bIgnoreMdefClassRate,Class_All,50;
          if( .@r >= 9 ){
            bonus2 bIgnoreMdefClassRate,Class_All,50;
          }
        }
      }
  - Id: 28047
    AegisName: Scorpio_Katar_J
    Name: '天蝎宮のカタール'
    Type: Weapon
    SubType: Katar
    Weight: 1000
    Attack: 10
    Range: 1
    Slots: 1
    Jobs:
      Assassin: true
    Locations:
      Right_Hand: true
      Left_Hand: true
    WeaponLevel: 4
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bUnbreakableWeapon;
      bonus bAspdRate,10;
      bonus bBaseAtk,100+BaseLevel;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_GUILLOTINE_CROSS ){
        bonus bFlee,50;
        bonus2 bAddClass,Class_All,50;
        bonus2 bSubClass,Class_Boss,50;
        .@r = getrefine();
        if( .@r >= 7 ){
          bonus2 bIgnoreDefClassRate,Class_All,50;
          if( .@r >= 9 ){
            bonus2 bIgnoreDefClassRate,Class_All,50;
          }
        }
      }
  - Id: 28643
    AegisName: PolluxBook
    Name: 'ポルックスブック'
    Type: Weapon
    SubType: Book
    Buy: 30000
    Weight: 500
    Attack: 10
    Range: 1
    Slots: 1
    Jobs:
      Priest: true
      Sage: true
      StarGladiator: true
    Locations:
      Right_Hand: true
    WeaponLevel: 4
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bAtk2,50+BaseLevel;
      bonus bAspdRate,10;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_STAR_EMPEROR ){
        bonus2 bAddClass,Class_All,50;
        bonus2 bSpDrainValueClass,Class_All,2;
        bonus2 bSubClass,Class_Boss,10;
        autobonus "{ bonus bAtk2,150; }",30,3000,BF_WEAPON;
        .@r = getrefine();
        if( .@r >= 7 ){
          bonus2 bIgnoreDefRaceRate,RC_All,50;
          if( .@r >= 9 ){
            bonus2 bIgnoreDefRaceRate,RC_All,50;
          }
        }
      }
  - Id: 32266
    AegisName: Aquarius_Ring_J
    Name: '宝瓶宮のリング'
    Type: Armor
    Weight: 100
    Defense: 0
    Slots: 0
    Jobs:
      All: true
    Locations:
      Both_Accessory: true
    EquipLevelMin: 1
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bAspdRate,5;
      bonus bMaxSP,100;
      bonus2 bMagicAddClass,Class_All,5;
      bonus2 bSkillUseSP,"WL_EARTHSTRAIN",30;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_WARLOCK ){
        bonus bAspdRate,5;
        bonus2 bSkillAtk,"WL_EARTHSTRAIN",50;
        bonus2 bSkillAtk,"WL_HELLINFERNO",50;
        bonus2 bSkillDelay,"WL_EARTHSTRAIN",-300;
        bonus2 bVariableCastrate,"WL_HELLINFERNO",-50;
      }
  - Id: 32267
    AegisName: Scorpio_Ring_J
    Name: '天蝎宮のリング'
    Type: Armor
    Weight: 100
    Defense: 0
    Slots: 0
    Jobs:
      All: true
    Locations:
      Both_Accessory: true
    EquipLevelMin: 1
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bAspdRate,5;
      bonus bMaxSP,100;
      bonus2 bAddClass,Class_All,5;
      bonus2 bSkillUseSP,"TF_BACKSLIDING",2;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_GUILLOTINE_CROSS ){
        bonus bAspdRate,5;
        bonus2 bAddClass,Class_All,5;
        bonus bPerfectHitAddRate,35;
      }
  - Id: 32293
    AegisName: PolluxRing
    Name: 'ポルックスリング'
    Type: Armor
    Weight: 100
    Defense: 0
    Slots: 0
    Jobs:
      All: true
    Locations:
      Both_Accessory: true
    EquipLevelMin: 1
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bAllStats,5;
      bonus bAspdRate,5;
      bonus bMaxSP,100;
      bonus2 bAddClass,Class_All,5;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_STAR_EMPEROR ){
        bonus2 bAddClass,Class_All,5;
        bonus bPerfectHitAddRate,35;
        bonus2 bSkillAtk,"SG_SUN_WARM",100;
        bonus2 bSkillAtk,"SG_MOON_WARM",100;
        bonus2 bSkillAtk,"SG_STAR_WARM",100;
      }
  - Id: 460004
    AegisName: Illusion_Shield_A
    Name: 'イルシオンシールドI'
    Type: Armor
    Buy: 20
    Weight: 1200
    Defense: 95
    Slots: 1
    Locations:
      Left_Hand: true
    EquipLevelMin: 100
    Refineable: true
    View: 1
    Script: |
      bonus bMaxHPrate,10;
      bonus bMaxSPrate,10;
      if( BaseLevel >=170 ){
        bonus2 bSubEle,Ele_Neutral,5;
      }
      .@n = getrefine()/3;
      bonus bDef,50*.@n;
      bonus bMdef,5*.@n;
  - Id: 490034
    AegisName: Pisces_Ring_J
    Name: '双魚宮のリング'
    Type: Armor
    Weight: 100
    Defense: 0
    Slots: 0
    Jobs:
      All: true
    Locations:
      Both_Accessory: true
    EquipLevelMin: 1
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bMaxSP,100;
      bonus bDelayrate,-5;
      bonus2 bMagicAddClass,Class_All,5;
      bonus2 bSkillUseSP,"MG_FIREBOLT",5;
      bonus2 bSkillUseSP,"MG_COLDBOLT",5;
      bonus2 bSkillUseSP,"MG_LIGHTNINGBOLT",5;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_SORCERER ){
        bonus bAspdRate,10;
        bonus bDelayrate,-5;
        bonus2 bSkillAtk,"MG_FIREBOLT",50;
        bonus2 bSkillAtk,"MG_COLDBOLT",50;
        bonus2 bSkillAtk,"MG_LIGHTNINGBOLT",50;
        bonus2 bVariableCastrate,"MG_FIREBOLT",-50;
        bonus2 bVariableCastrate,"MG_COLDBOLT",-50;
        bonus2 bVariableCastrate,"MG_LIGHTNINGBOLT",-50;
      }
  - Id: 490010
    AegisName: Virgo_Ring_J
    Name: '処女宮のリング'
    Type: Armor
    Weight: 100
    Defense: 0
    Slots: 0
    Jobs:
      All: true
    Locations:
      Both_Accessory: true
    EquipLevelMin: 1
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bAspdRate,5;
      bonus bMaxSP,100;
      bonus2 bMagicAddClass,Class_All,5;
      bonus3 bAddEff,Eff_Stun,5,ATF_MAGIC;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_ARCH_BISHOP ){
        bonus bAspdRate,5;
        bonus2 bMagicAddClass,Class_All,5;
        bonus2 bVariableCastrate,"AB_JUDEX",-50;
      }
  - Id: 640002
    AegisName: Virgo_Divine_Cross_J
    Name: '処女宮のディバインクロス'
    Type: Weapon
    SubType: 2hStaff
    Weight: 100
    Attack: 0
    MagicAttack: 10
    Range: 1
    Slots: 1
    Jobs:
      Acolyte: true
      Monk: true
      Priest: true
    Locations:
      Both_Hand: true
    WeaponLevel: 4
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bUnbreakableWeapon;
      bonus bMatk,50+BaseLevel;
      bonus bAspdRate,10;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_ARCH_BISHOP ){
        skill "ALL_ODINS_POWER",2,1;
        bonus2 bMagicAddClass,Class_All,25;
        bonus2 bSubClass,Class_Boss,50;
        bonus bHealPower,30;
        .@r = getrefine();
        if( .@r >= 7 ){
          bonus2 bIgnoreMdefClassRate,Class_All,50;
          if( .@r >= 9 ){
            bonus2 bIgnoreMdefClassRate,Class_All,50;
          }
        }
      }
  - Id: 640006
    AegisName: Pisces_Staff_O_S_J
    Name: '双魚宮のスタッフオブソウル'
    Type: Weapon
    SubType: 2hStaff
    Weight: 300
    Attack: 0
    MagicAttack: 10
    Range: 1
    Slots: 1
    Jobs:
      Acolyte: true
      Mage: true
      Monk: true
      Novice: true
      Priest: true
      Sage: true
      SoulLinker: true
      SuperNovice: true
      Wizard: true
    Locations:
      Both_Hand: true
    WeaponLevel: 4
    EquipLevelMin: 1
    Refineable: true
    Trade:
      Override: 100
      NoDrop: true
      NoTrade: true
      NoCart: true
      NoGuildStorage: true
      NoMail: true
      NoAuction: true
    Script: |
      bonus bUnbreakableWeapon;
      bonus bMatk,50+BaseLevel;
      bonus bDelayrate,-10;
      set .@eac, eaclass();
      if(( .@eac & EAJ_THIRDMASK ) == EAJ_SORCERER ){
        bonus bAspdRate,10;
        bonus2 bMagicAddClass,Class_All,25;
        bonus2 bSkillAtk,"MG_FIREBOLT",100;
        bonus2 bSkillAtk,"MG_COLDBOLT",100;
        bonus2 bSkillAtk,"MG_LIGHTNINGBOLT",100;
        bonus2 bSkillAtk,"WZ_EARTHSPIKE",100;
        bonus2 bSubEle,Ele_Fire,10;
        bonus2 bSubEle,Ele_Water,10;
        bonus2 bSubEle,Ele_Wind,10;
        bonus2 bSubEle,Ele_Earth,10;
        bonus2 bSubClass,Class_Boss,40;
        .@r = getrefine();
        if( .@r >= 7 ){
          bonus2 bIgnoreMdefClassRate,Class_All,50;
          if( .@r >= 9 ){
            bonus2 bIgnoreMdefClassRate,Class_All,50;
          }
        }
      }
